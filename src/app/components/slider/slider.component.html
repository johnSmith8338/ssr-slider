<div class="slider-container" 
	#sliderContainer 
	(mouseenter)="pauseAutoSlide()" 
	(mouseleave)="resumeAutoSlide()">

	<div class="slider" 
		#slider 
		appTouchDrag 
		[isWideScreen]="isWideScreen()"
		[style.transform]="transform()" 
		[style.transition]="transition()"
		(slideChange)="onSlideChange($event)"
		(dragMove)="onDragMove($event)"
		(dragEnd)="onDragEnd($event)"
		(slideClick)="onSlideClick()">

		@for (slide of slidesForRender(); track $index; let i = $index) {
			<div class="slide" [class.active]="isRenderIndexActive(i)" [class.clone]="slide.isClone" [attr.data-index]="i">
				@if (!slide.isLoaded()) {
					<div class="preloader">
						<p>Loading...</p>
					</div>
				}
				@if (isSlideVisible(i)) {
					<picture>
						<source media="(max-width:1023px)" [srcset]="slide.mobileImg">
						<source media="(min-width:1024px)" [srcset]="slide.desktopImg">
						<img [src]="slide.desktopImg" [alt]="slide.title" 
							(load)="onImageLoad(i)" 
							[class.loaded]="slide.isLoaded()"
						>
					</picture>
					@if (isWideScreen()) {
						<div class="slide-content-wrapper">
							<div class="slide-content">
								<h2>{{slide.title}}</h2>
								<p class="slide-text">{{slide.text}}</p>
								@if (slide.cta?.length) {
									<div class="slide-cta">
										@for (cta of slide.cta; track $index; let j=$index) {
											<button
												type="button"
												data-cta="true"
												(click)="onCtaClick($event,slide,cta,getRealSlideIndex(i),j)"
											>
												{{cta.label}}
											</button>
										}
									</div>
								}
							</div>
						</div>
					}
				}@else {
					<div class="preloader">
						<p>Loading...</p>
					</div>
				}
			</div>
		}@empty {
			<p>There are no Slides to show</p>
		}
	</div>
	@if (isInterective()) {
		<div class="slider-dots">
			@for (slide of slides(); track $index; let i=$index) {
				<button type="button" class="dot" [class.active]="i===activeIndex()" (click)="goToSlide(i)"></button>
			}
		</div>
	}
</div>
